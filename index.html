<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIRP v2.0 - AI-Powered Financial ERP</title>
    <style>
        /* ==================== SAP-like Design System ==================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* SAP Color Palette */
            --sap-primary: #0854A0;
            --sap-primary-hover: #0066B3;
            --sap-secondary: #32363A;
            --sap-background: #F7F7F7;
            --sap-surface: #FFFFFF;
            --sap-border: #D9D9D9;
            --sap-text-primary: #32363A;
            --sap-text-secondary: #6A6D70;
            --sap-text-disabled: #B3B3B3;
            --sap-success: #107E3E;
            --sap-warning: #E9730C;
            --sap-error: #BB0000;
            --sap-info: #0854A0;
            --sap-shadow: rgba(0, 0, 0, 0.15);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            background: var(--sap-background);
            color: var(--sap-text-primary);
            line-height: 1.5;
        }

        /* Top Navigation Bar */
        .top-nav {
            background: var(--sap-surface);
            border-bottom: 1px solid var(--sap-border);
            padding: 0;
            display: flex;
            align-items: stretch;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 4px var(--sap-shadow);
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 24px;
            background: var(--sap-primary);
            color: white;
            min-width: 280px;
        }

        .logo-icon {
            font-size: 24px;
        }

        .logo-text {
            font-size: 16px;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .nav-center {
            flex: 1;
            display: flex;
            align-items: center;
            padding: 0 24px;
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--sap-text-secondary);
            font-size: 14px;
        }

        .breadcrumb-separator {
            color: var(--sap-border);
        }

        .breadcrumb-current {
            color: var(--sap-text-primary);
            font-weight: 500;
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 0 24px;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: var(--sap-text-secondary);
        }

        /* Main Layout */
        .main-container {
            display: flex;
            height: calc(100vh - 49px);
        }

        /* Sidebar Navigation */
        .sidebar {
            width: 280px;
            background: var(--sap-surface);
            border-right: 1px solid var(--sap-border);
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        .sidebar-section {
            border-bottom: 1px solid var(--sap-border);
        }

        .sidebar-header {
            padding: 12px 16px;
            background: #FAFAFA;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--sap-text-secondary);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            user-select: none;
            transition: background 0.2s;
        }

        .sidebar-header:hover {
            background: #F0F0F0;
        }

        .sidebar-header-icon {
            font-size: 14px;
            transition: transform 0.3s;
        }

        .sidebar-header-icon.collapsed {
            transform: rotate(-90deg);
        }

        .sidebar-section-content {
            max-height: 1000px;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        .sidebar-section-content.collapsed {
            max-height: 0;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            color: var(--sap-text-primary);
            text-decoration: none;
            font-size: 14px;
            transition: all 0.2s;
            cursor: pointer;
            border-left: 3px solid transparent;
        }

        .nav-item:hover {
            background: #F5F5F5;
        }

        .nav-item.active {
            background: #E8F0F8;
            border-left-color: var(--sap-primary);
            color: var(--sap-primary);
            font-weight: 500;
        }

        .nav-icon {
            font-size: 16px;
            width: 20px;
            text-align: center;
        }

        /* Content Area */
        .content-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--sap-background);
            overflow: hidden;
        }

        .content-header {
            background: var(--sap-surface);
            padding: 20px 32px;
            border-bottom: 1px solid var(--sap-border);
        }

        .content-title {
            font-size: 24px;
            font-weight: 400;
            color: var(--sap-text-primary);
            margin-bottom: 4px;
        }

        .content-subtitle {
            font-size: 14px;
            color: var(--sap-text-secondary);
        }

        .content-body {
            flex: 1;
            overflow-y: auto;
            padding: 24px 32px;
        }

        /* Welcome Screen */
        .welcome-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .welcome-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 32px;
        }

        .welcome-card {
            background: var(--sap-surface);
            border: 1px solid var(--sap-border);
            border-radius: 4px;
            padding: 24px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .welcome-card:hover {
            box-shadow: 0 4px 12px var(--sap-shadow);
            transform: translateY(-2px);
        }

        .welcome-card-icon {
            font-size: 32px;
            margin-bottom: 16px;
        }

        .welcome-card-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--sap-text-primary);
            margin-bottom: 8px;
        }

        .welcome-card-desc {
            font-size: 14px;
            color: var(--sap-text-secondary);
            line-height: 1.6;
        }

        /* Iframe Container */
        .iframe-container {
            display: none;
            width: 100%;
            height: 100%;
        }

        .iframe-container.active {
            display: block;
        }

        .iframe-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Buttons */
        .btn {
            padding: 8px 16px;
            border-radius: 4px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--sap-primary);
            color: white;
            border-color: var(--sap-primary);
        }

        .btn-primary:hover {
            background: var(--sap-primary-hover);
            border-color: var(--sap-primary-hover);
        }

        .btn-secondary {
            background: var(--sap-surface);
            color: var(--sap-text-primary);
            border-color: var(--sap-border);
        }

        .btn-secondary:hover {
            background: #F5F5F5;
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #F0F0F0;
        }

        ::-webkit-scrollbar-thumb {
            background: #C0C0C0;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #A0A0A0;
        }
    </style>
</head>
<body>
    <!-- Top Navigation -->
    <div class="top-nav">
        <div class="logo-section">
            <div class="logo-icon">⚡</div>
            <div class="logo-text">AIRP v2.0</div>
        </div>

        <div class="nav-center">
            <div class="breadcrumb">
                <span>Home</span>
                <span class="breadcrumb-separator">›</span>
                <span class="breadcrumb-current" id="current-page">Dashboard</span>
            </div>
        </div>

        <div class="nav-right">
            <div class="user-info">
                <span>👤</span>
                <span>ACME Corporation</span>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar Navigation -->
        <div class="sidebar">
            <!-- Master Data Section -->
            <div class="sidebar-section">
                <div class="sidebar-header" onclick="toggleSection(this)">
                    <span>1. Master Data</span>
                    <span class="sidebar-header-icon">▼</span>
                </div>
                <div class="sidebar-section-content">
                    <a class="nav-item" onclick="loadContent('chart-of-accounts.html')">
                        <span class="nav-icon">📑</span>
                        <span>Chart of Accounts</span>
                    </a>
                    <a class="nav-item" onclick="loadContent('vendors.html')">
                        <span class="nav-icon">🏪</span>
                        <span>Vendors</span>
                    </a>
                    <a class="nav-item" onclick="loadContent('customers.html')">
                        <span class="nav-icon">👥</span>
                        <span>Customers</span>
                    </a>
                    <a class="nav-item" onclick="loadContent('bank-accounts.html')">
                        <span class="nav-icon">🏦</span>
                        <span>Bank Accounts</span>
                    </a>
                </div>
            </div>

            <!-- Transactions Section -->
            <div class="sidebar-section">
                <div class="sidebar-header" onclick="toggleSection(this)">
                    <span>2. Transactions</span>
                    <span class="sidebar-header-icon">▼</span>
                </div>
                <div class="sidebar-section-content">
                    <a class="nav-item" onclick="loadContent('post-je.html')" style="background: #FFF3CD; border-left-color: #E9730C;">
                        <span class="nav-icon">✍️</span>
                        <span><strong>Post Journal Entry</strong></span>
                    </a>
                    <a class="nav-item" onclick="loadContent('post-ap-invoice.html')">
                        <span class="nav-icon">📥</span>
                        <span>AP Invoice (Legacy)</span>
                    </a>
                    <a class="nav-item" onclick="loadContent('post-ar-invoice.html')">
                        <span class="nav-icon">📤</span>
                        <span>AR Invoice (Legacy)</span>
                    </a>
                    <a class="nav-item" onclick="loadContent('post-payment.html')">
                        <span class="nav-icon">💳</span>
                        <span>Payment (Legacy)</span>
                    </a>
                </div>
            </div>

            <!-- Ledgers & Registers Section -->
            <div class="sidebar-section">
                <div class="sidebar-header" onclick="toggleSection(this)">
                    <span>3. Ledgers & Registers</span>
                    <span class="sidebar-header-icon">▼</span>
                </div>
                <div class="sidebar-section-content">
                    <a class="nav-item" onclick="loadContent('je-register.html')">
                        <span class="nav-icon">📋</span>
                        <span>Journal Entry Register</span>
                    </a>
                    <a class="nav-item" onclick="loadContent('gl-line-items.html')">
                        <span class="nav-icon">📖</span>
                        <span>General Ledger</span>
                    </a>
                    <a class="nav-item" onclick="loadContent('vendor-ledger.html')">
                        <span class="nav-icon">🏢</span>
                        <span>Vendor Ledger</span>
                    </a>
                    <a class="nav-item" onclick="loadContent('customer-ledger.html')">
                        <span class="nav-icon">👤</span>
                        <span>Customer Ledger</span>
                    </a>
                    <a class="nav-item" onclick="loadContent('account-balances.html')">
                        <span class="nav-icon">💰</span>
                        <span>Account Balances</span>
                    </a>
                </div>
            </div>

            <!-- Financial Reports Section -->
            <div class="sidebar-section">
                <div class="sidebar-header" onclick="toggleSection(this)">
                    <span>4. Financial Reports</span>
                    <span class="sidebar-header-icon">▼</span>
                </div>
                <div class="sidebar-section-content">
                    <a class="nav-item" onclick="loadContent('trial-balance.html')">
                        <span class="nav-icon">⚖️</span>
                        <span>Trial Balance</span>
                    </a>
                    <a class="nav-item" onclick="loadContent('income-statement.html')">
                        <span class="nav-icon">📊</span>
                        <span>Income Statement</span>
                    </a>
                    <a class="nav-item" onclick="loadContent('balance-sheet.html')">
                        <span class="nav-icon">📈</span>
                        <span>Balance Sheet</span>
                    </a>
                    <a class="nav-item" onclick="loadContent('cash-flow-statement.html')">
                        <span class="nav-icon">💸</span>
                        <span>Cash Flow Statement</span>
                    </a>
                </div>
            </div>

            <!-- System Section -->
            <div class="sidebar-section">
                <div class="sidebar-header" onclick="toggleSection(this)">
                    <span>5. System</span>
                    <span class="sidebar-header-icon">▼</span>
                </div>
                <div class="sidebar-section-content">
                    <a class="nav-item" onclick="loadContent('database-explorer.html')">
                        <span class="nav-icon">🗄️</span>
                        <span>Database Explorer</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Content Area -->
        <div class="content-area">
            <!-- Welcome View -->
            <div id="welcome-view">
                <div class="content-header">
                    <div class="content-title">Welcome to AIRP v2.0</div>
                    <div class="content-subtitle">AI-Powered Financial ERP with Event Sourcing & Real-time Analytics</div>
                </div>

                <div class="content-body">
                    <div class="welcome-container">
                        <div class="welcome-cards">
                            <div class="welcome-card" onclick="loadContent('post-je.html')" style="border: 2px solid #E9730C; background: #FFFBF0;">
                                <div class="welcome-card-icon">✍️</div>
                                <div class="welcome-card-title"><strong>Post Journal Entry (NEW)</strong></div>
                                <div class="welcome-card-desc">Single source of truth for ALL financial transactions - Select type, auto-validates vendor/customer</div>
                            </div>

                            <div class="welcome-card" onclick="loadContent('post-ap-invoice.html')">
                                <div class="welcome-card-icon">📥</div>
                                <div class="welcome-card-title">Record AP Invoice</div>
                                <div class="welcome-card-desc">Record vendor invoices and track payables</div>
                            </div>

                            <div class="welcome-card" onclick="loadContent('post-ar-invoice.html')">
                                <div class="welcome-card-icon">📤</div>
                                <div class="welcome-card-title">Create AR Invoice</div>
                                <div class="welcome-card-desc">Issue customer invoices and track receivables</div>
                            </div>

                            <div class="welcome-card" onclick="loadContent('trial-balance.html')">
                                <div class="welcome-card-icon">⚖️</div>
                                <div class="welcome-card-title">Trial Balance</div>
                                <div class="welcome-card-desc">Verify accounting accuracy with trial balance report</div>
                            </div>

                            <div class="welcome-card" onclick="loadContent('gl-line-items.html')">
                                <div class="welcome-card-icon">📖</div>
                                <div class="welcome-card-title">General Ledger</div>
                                <div class="welcome-card-desc">View detailed general ledger transactions</div>
                            </div>

                            <div class="welcome-card" onclick="loadContent('income-statement.html')">
                                <div class="welcome-card-icon">📊</div>
                                <div class="welcome-card-title">Income Statement</div>
                                <div class="welcome-card-desc">Analyze revenue and expenses with P&L statement</div>
                            </div>

                            <div class="welcome-card" onclick="loadContent('balance-sheet.html')">
                                <div class="welcome-card-icon">📈</div>
                                <div class="welcome-card-title">Balance Sheet</div>
                                <div class="welcome-card-desc">View financial position with balance sheet</div>
                            </div>

                            <div class="welcome-card" onclick="loadContent('cash-flow-statement.html')">
                                <div class="welcome-card-icon">💸</div>
                                <div class="welcome-card-title">Cash Flow</div>
                                <div class="welcome-card-desc">Track cash movements and liquidity</div>
                            </div>

                            <div class="welcome-card" onclick="loadContent('vendor-ledger.html')">
                                <div class="welcome-card-icon">🏢</div>
                                <div class="welcome-card-title">Vendor Ledger</div>
                                <div class="welcome-card-desc">Review vendor balances and transactions</div>
                            </div>

                            <div class="welcome-card" onclick="loadContent('customer-ledger.html')">
                                <div class="welcome-card-icon">👤</div>
                                <div class="welcome-card-title">Customer Ledger</div>
                                <div class="welcome-card-desc">Review customer balances and transactions</div>
                            </div>

                            <div class="welcome-card" onclick="loadContent('chart-of-accounts.html')">
                                <div class="welcome-card-icon">📑</div>
                                <div class="welcome-card-title">Chart of Accounts</div>
                                <div class="welcome-card-desc">Manage general ledger accounts and structure</div>
                            </div>

                            <div class="welcome-card" onclick="loadContent('database-explorer.html')">
                                <div class="welcome-card-icon">🗄️</div>
                                <div class="welcome-card-title">Database Explorer</div>
                                <div class="welcome-card-desc">Explore database tables and execute queries</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Content View (for iframes) -->
            <div id="content-view" class="iframe-container">
                <iframe id="content-frame"></iframe>
            </div>
        </div>
    </div>

    <script>
        let currentContent = null;

        function loadContent(url) {
            const welcomeView = document.getElementById('welcome-view');
            const contentView = document.getElementById('content-view');
            const contentFrame = document.getElementById('content-frame');

            // Hide welcome, show iframe
            welcomeView.style.display = 'none';
            contentView.classList.add('active');

            // Load content
            contentFrame.src = url;
            currentContent = url;

            // Update breadcrumb
            updateBreadcrumb(url);

            // Update active nav item
            updateActiveNav(url);
        }

        function updateBreadcrumb(url) {
            const breadcrumb = document.getElementById('current-page');
            const filename = url.split('?')[0].split('.html')[0];

            const pageNames = {
                'chart-of-accounts': 'Chart of Accounts',
                'vendors': 'Vendors',
                'customers': 'Customers',
                'bank-accounts': 'Bank Accounts',
                'post-je': 'Journal Entry',
                'post-ap-invoice': 'AP Invoice',
                'post-ar-invoice': 'AR Invoice',
                'post-payment': 'Payment',
                'je-register': 'Journal Entry Register',
                'gl-line-items': 'General Ledger',
                'vendor-ledger': 'Vendor Ledger',
                'customer-ledger': 'Customer Ledger',
                'account-balances': 'Account Balances',
                'trial-balance': 'Trial Balance',
                'income-statement': 'Income Statement',
                'balance-sheet': 'Balance Sheet',
                'cash-flow-statement': 'Cash Flow Statement',
                'master-data': 'Master Data',
                'database-explorer': 'Database Explorer'
            };

            breadcrumb.textContent = pageNames[filename] || 'Dashboard';
        }

        function updateActiveNav(url) {
            // Remove active from all nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });

            // Find and activate matching nav item
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                const onClick = item.getAttribute('onclick');
                if (onClick && onClick.includes(url.split('?')[0])) {
                    item.classList.add('active');
                }
            });
        }

        function toggleSection(header) {
            const content = header.nextElementSibling;
            const icon = header.querySelector('.sidebar-header-icon');

            content.classList.toggle('collapsed');
            icon.classList.toggle('collapsed');
        }
    </script>
</body>
</html>
